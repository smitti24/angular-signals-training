<div class="min-h-screen bg-gray-50 py-8 px-4 w-full">
  <app-task-input (addTask)="taskService.addTaskToApi($event)" />

  <div class="flex flex-row justify-center items-center mb-8 w-full">
    <button class="bg-blue-500 text-white px-4 py-2 rounded-md" (click)="taskService.refreshTasks()">Reload
      Tasks</button>
  </div>

  <div class="flex flex-row justify-between items-center mb-8">
    <app-task-filter-button [activeFilter]="taskService.activeFilter()"
      (filterChange)="taskService.filterTasks($event)" />

    <app-task-stats [pendingTasksCount]="taskService.pendingTasks()"
      [completedTasksCount]="taskService.completedTasks()" />
  </div>

  <div class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Tasks from API ({{ taskService.totalTasks() }})</h2>
    @if (taskService.isLoading()) {
    <div>Loading...</div>
    }
    @if (taskService.error()) {
    <div>Error: {{ taskService.error() }}</div>
    }
    @if (taskService.filteredTasks()) {
    <div class="flex flex-col gap-2">
      <app-task-list [filteredTasks]="taskService.filteredTasks()" (toggleTask)="taskService.toggleTask($event)"
        (deleteTask)="taskService.deleteTask($event)" />
    </div>
    }
  </div>
</div>